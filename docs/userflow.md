### 체험단 매칭 플랫폼 MVP 기능단위 유저플로우 설계 (최종본)

---

#### 1. 인플루언서 (Influencer) 기능

##### 1.1. 회원가입 및 온보딩

*   1. 입력 (Input)
    *   사용자가 회원가입 페이지에 접속하여 필수 정보(이름, 연락처, 이메일, 비밀번호, 약관 동의)를 입력한다.
    *   '인플루언서' 역할을 선택한다.
    *   역할에 따른 추가 정보(생년월일, SNS 채널 정보 및 링크)를 입력하고 최종 제출 버튼을 클릭한다.

*   2. 처리 (Processing)
    *   2.1. 유효성 검증: 시스템은 입력된 모든 필드의 형식(이메일 형식, 연락처 형식 등)과 필수 값 입력 여부를 검증한다.
    *   2.2. 중복 확인: 기입된 이메일과 연락처가 이미 시스템에 등록되어 있는지 확인한다.
    *   2.3. 데이터 생성:
        *   유효성 검증과 중복 확인을 통과하면, 공통 사용자 계정(User)을 생성한다. 비밀번호는 해싱하여 저장한다.
        *   생성된 User 계정과 연결된 인플루언서 프로필(Influencer Profile)을 생성하고, 입력된 추가 정보를 저장한다.
    *   2.4. 인증 처리: 회원가입 성공과 동시에 사용자를 로그인 상태로 전환한다.
    *   [엣지 케이스]
        *   중복된 이메일/연락처: 이미 가입된 정보일 경우, 해당 필드에 중복 오류를 반환하고 가입 절차를 중단한다.
        *   유효하지 않은 SNS 링크: 시스템이 링크의 기본적인 형식(http/https)을 검증하고, 형식이 맞지 않으면 오류를 반환한다.
        *   가입 절차 중 이탈: 사용자가 가입 도중 페이지를 이탈할 경우, 입력된 정보는 저장되지 않는다.

*   3. 출력 (Output)
    *   회원가입 성공 시, 홈 페이지로 리디렉션된다.
    *   사용자에게 회원가입이 완료되었음을 알리는 UI 피드백을 노출한다.

##### 1.2. 체험단 지원

*   1. 입력 (Input)
    *   로그인한 인플루언서가 체험단 상세 페이지에서 '지원하기' 버튼을 클릭한다.
    *   체험단 지원 페이지로 이동하여 필수 정보(각오 한마디, 방문 희망일 등)를 입력한다.
    *   '최종 제출' 버튼을 클릭한다.

*   2. 처리 (Processing)
    *   2.1. 권한 확인: 요청한 사용자가 '인플루언서' 역할인지, 그리고 로그인 상태인지 확인한다.
    *   2.2. 상태 확인: 대상 체험단(Campaign)이 현재 '모집 중' 상태인지 확인한다.
    *   2.3. 중복 지원 확인: 해당 인플루언서가 이미 동일한 체험단에 지원했는지 확인한다.
    *   2.4. 데이터 생성: 모든 확인 절차를 통과하면, 지원 정보(Proposal)를 생성한다. 이때 지원자와 캠페인을 연결하고, 상태를 '신청완료'로 설정한다.
    *   [엣지 케이스]
        *   모집 기간 종료: '지원하기' 버튼 클릭 시점 또는 '최종 제출' 시점에 모집 기간이 종료된 경우, 지원이 불가능하다는 피드백을 반환하고 지원 절차를 중단한다.
        *   이미 지원한 경우: 중복 지원이 확인되면, "이미 지원한 체험단입니다."와 같은 피드백을 반환하고 절차를 중단한다.
        *   비로그인 또는 광고주 계정: 지원 권한이 없는 사용자가 지원을 시도할 경우, 로그인 페이지로 리디렉션하거나 권한이 없다는 피드백을 제공한다.

*   3. 출력 (Output)
    *   지원 제출이 완료되면 '내 지원 목록' 페이지로 리디렉션된다.
    *   "지원이 성공적으로 완료되었습니다."와 같은 성공 피드백 UI를 잠시 노출한다.

##### 1.3. 내 지원 목록 확인

*   1. 입력 (Input)
    *   로그인한 인플루언서가 '내 지원 목록' 페이지로 이동한다.

*   2. 처리 (Processing)
    *   2.1. 데이터 조회: 현재 로그인된 인플루언서와 연결된 모든 지원 정보(Proposals)를 데이터베이스에서 조회한다.
    *   2.2. 정렬: 조회된 지원 목록을 상태(신청완료, 선정, 반려) 순, 그리고 최신순으로 정렬한다.
    *   [엣지 케이스]
        *   지원 내역 없음: 사용자가 아직 아무 체험단에도 지원하지 않은 경우, "지원 내역이 없습니다."와 같은 빈 상태(Empty State) 정보를 반환한다.

*   3. 출력 (Output)
    *   조회 및 정렬된 지원 목록을 UI에 렌더링한다. 각 항목에는 캠페인 정보와 현재 지원 상태(신청완료, 선정, 반려)가 표시된다.

---

#### 2. 광고주 (Advertiser) 기능

##### 2.1. 회원가입 및 온보딩

*   1. 입력 (Input)
    *   사용자가 회원가입 페이지에서 공통 정보(이름, 연락처 등)를 입력한다.
    *   '광고주' 역할을 선택한다.
    *   광고주 전용 추가 정보(업체명, 사업자등록번호 등)를 입력하고 최종 제출한다.

*   2. 처리 (Processing)
    *   2.1. 유효성 검증: 시스템은 모든 필드의 형식과 필수 값 여부를 검증한다. 사업자등록번호의 기본 형식(e.g., `XXX-XX-XXXXX`)이 올바른지 확인한다.
    *   2.2. 중복 확인: 이메일, 연락처, 사업자등록번호가 시스템에 이미 등록되어 있는지 확인한다.
    *   2.3. 데이터 생성:
        *   검증 통과 시, 공통 사용자 계정(User)을 생성한다.
        *   생성된 User 계정과 연결된 광고주 프로필(Advertiser Profile)을 생성하고 추가 정보를 저장한다.
    *   2.4. 인증 처리: 회원가입 성공과 동시에 사용자를 로그인 상태로 전환한다.
    *   [엣지 케이스]
        *   중복된 사업자등록번호: 이미 등록된 번호일 경우, 오류를 반환하고 가입 절차를 중단한다.
        *   유효하지 않은 사업자등록번호 형식: 형식이 맞지 않을 경우, 오류를 반환한다.

*   3. 출력 (Output)
    *   회원가입이 완료되면 '체험단 관리' 대시보드 페이지로 리디렉션된다.
    *   회원가입 완료를 알리는 UI 피드백을 노출한다.

##### 2.2. 신규 체험단 등록

*   1. 입력 (Input)
    *   로그인한 광고주가 '체험단 관리' 페이지에서 '신규 체험단 등록' 버튼을 클릭한다.
    *   화면에 표시된 다이얼로그 폼에 체험단 정보(체험단명, 모집 기간, 모집 인원, 혜택, 미션 등)를 입력한다.
    *   '등록하기' 버튼을 클릭한다.

*   2. 처리 (Processing)
    *   2.1. 권한 확인: 요청한 사용자가 '광고주' 역할이며 로그인 상태인지 확인한다.
    *   2.2. 유효성 검증: 입력된 모든 필드의 유효성을 검증한다. 특히, 모집 종료일이 모집 시작일보다 이전 날짜가 아닌지 확인한다.
    *   2.3. 데이터 생성: 유효성 검증을 통과하면, 신규 체험단(Campaign) 데이터를 생성한다. 이때 현재 로그인된 광고주를 해당 체험단의 소유자로 지정하고, 상태를 '모집 중'으로 설정한다.
    *   [엣지 케이스]
        *   날짜 오류: 모집 종료일이 시작일보다 빠를 경우, "모집 기간을 올바르게 설정해주세요."와 같은 오류 메시지를 반환하고 등록을 막는다.
        *   필수값 누락: 필수 입력 필드가 비어있을 경우, 해당 필드에 오류를 표시하고 등록을 막는다.

*   3. 출력 (Output)
    *   체험단 등록이 성공적으로 완료되면 다이얼로그가 닫히고, '체험단 관리' 페이지가 새로고침되어 방금 등록한 캠페인을 목록에서 확인할 수 있다.
    *   등록 성공을 알리는 UI 피드백을 잠시 노출한다.

##### 2.3. 모집 마감 처리

*   1. 입력 (Input)
    *   광고주가 '광고주용 체험단 상세' 페이지에서 '모집 종료' 버튼을 클릭한다.
    *   상태 변경을 확인하는 확인(Confirm) 다이얼로그에서 '확인'을 클릭한다.

*   2. 처리 (Processing)
    *   2.1. 권한 확인: 현재 로그인된 광고주가 해당 체험단의 소유자인지 확인한다.
    *   2.2. 상태 확인: 해당 체험단의 현재 상태가 '모집 중'인지 확인한다.
    *   2.3. 데이터 업데이트: 확인 절차를 통과하면, 해당 체험단의 상태를 '모집 중'에서 '모집 종료'로 변경하고 데이터베이스에 저장한다.
    *   [엣지 케이스]
        *   이미 마감된 경우: 현재 상태가 '모집 중'이 아닐 경우(예: 이미 '모집 종료' 또는 '선정 완료' 상태), 아무런 변경을 수행하지 않거나 "이미 마감된 체험단입니다."와 같은 피드백을 반환한다.
        *   권한 없는 접근: 소유자가 아닌 광고주가 URL을 통해 직접 접근하여 시도할 경우, 권한 없음(403 Forbidden) 오류를 반환한다.

*   3. 출력 (Output)
    *   페이지가 새로고침되며, '모집 종료' 버튼은 비활성화되거나 '체험단 선정' 버튼으로 변경되어 노출된다.
    *   상태 변경 완료를 알리는 UI 피드백을 노출한다.

##### 2.4. 체험단 선정

*   1. 입력 (Input)
    *   광고주가 '모집 종료' 상태인 '광고주용 체험단 상세' 페이지에서 '체험단 선정' 버튼을 클릭한다.
    *   지원자 목록이 표시된 선정 다이얼로그에서, 선정할 인플루언서를 체크박스 등으로 선택한다.
    *   '선정 완료' 버튼을 클릭한다.

*   2. 처리 (Processing)
    *   2.1. 권한 및 상태 확인: 체험단의 소유주가 맞는지, 그리고 상태가 '모집 종료'인지 확인한다.
    *   2.2. 선정 인원 검증: 광고주가 선택한 인원 수가 해당 체험단에 설정된 '모집 인원'을 초과하지 않는지 검증한다.
    *   2.3. 데이터 업데이트:
        *   선정된 인플루언서들의 지원(Proposal) 상태를 '신청완료'에서 '선정'으로 변경한다.
        *   선정되지 않은 나머지 지원자들의 지원 상태를 '신청완료'에서 '반려'로 변경한다.
        *   체험단(Campaign)의 최종 상태를 '선정 완료'로 변경한다.
    *   [엣지 케이스]
        *   모집 인원 초과: 선택한 인원이 모집 인원을 초과할 경우, "모집 인원을 초과하여 선택할 수 없습니다."와 같은 오류 메시지를 반환하고 선정을 막는다.
        *   선정 인원 없음: 아무도 선택하지 않고 '선정 완료'를 클릭할 경우, "한 명 이상의 지원자를 선택해야 합니다."와 같은 피드백을 반환한다.

*   3. 출력 (Output)
    *   선정 다이얼로그가 닫히고 페이지가 새로고침된다.
    *   '체험단 선정' 버튼은 비활성화되고, 체험단의 최종 상태가 '선정 완료'로 표시된다.
    *   지원자 목록의 각 인원 상태가 '선정' 또는 '반려'로 갱신되어 표시된다.
    *   (사이드 이펙트) 선정/반려된 인플루언서들은 각자의 '내 지원 목록' 페이지에서 변경된 상태를 확인할 수 있게 된다.